(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(59)},32:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(31),a(32),a(4)),l=a(5),i=a(7),u=a(6),m=a(8),p=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("h5",{className:"pt-2"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Pet club")))}}]),t}(r.a.PureComponent),d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer__container container"},r.a.createElement("section",{className:"pt-3 my-md-3 pt-md-3 border-top"},r.a.createElement("span",{className:"h3",role:"img","aria-label":"Petclub icon"},"\u26f3")," Pet Club \xa92019"))}}]),t}(r.a.PureComponent);var f=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(e,this.props),r.a.createElement(d,null))}}]),a}(r.a.Component)},g=a(25),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.__avatar,a=e.name,n=this.props.ownerData,c=n.__avatar,o=n.name,s=n.age;return r.a.createElement("div",{className:"box__item"},r.a.createElement("div",{className:"box__body"},r.a.createElement("div",{className:"box__avatar"},r.a.createElement("span",{role:"img",className:"pets__avatar","aria-label":"".concat(a)},t)),r.a.createElement("div",{className:"box__information"},r.a.createElement("h5",{className:"mb-0"},a))),r.a.createElement("div",{className:"box__footer bg-light"},r.a.createElement("div",{className:"person__profile-mini"},r.a.createElement("div",{className:"person__avatar-mini"},r.a.createElement("img",{alt:"".concat(o," - ").concat(s),src:c})),r.a.createElement("div",{className:"person__info-mini"},r.a.createElement("h6",{className:"mb-0"},o," - Age: ",s)))))}}]),t}(r.a.PureComponent),b=function(e){var t=e.data,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-muted group__label"},a),t.length>0&&r.a.createElement("ul",{className:"box__list"},t.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(v,{data:e,ownerData:e.__owner}))})),(null===t||0===t.length)&&r.a.createElement("div",{className:"alert"},"There is no pet."))},h=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.componentStore.fetchOwners()}},{key:"render",value:function(){var e=this,t=this.props.componentStore,a=t.state,n=t.__genderList,c=t.__ready;return r.a.createElement(r.a.Fragment,null,("fetching"===a||"loading"===a)&&r.a.createElement("div",{className:"spinner-border text-secondary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),c&&"fetching"!==a&&n.map(function(t,a){return r.a.createElement(b,{key:a,title:"Owner Gender: ".concat(t.label),data:e.props.componentStore.__getPetsBy({ownerGender:t.value,type:"Cat"})})}))}}]),t}(r.a.Component),_=Object(g.a)(h),y=a(9),w=a.n(y),E=a(11),O=a(2),j=a(24),k=a.n(j),N=a(14),T=N("pactera:".concat("production",":store")),x=(N("pactera:".concat("production",":log")),N("pactera:".concat("production",":error")),{fetch:Object(O.a)(w.a.mark(function e(t){var a,n,r,c,o,s,l,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=void 0===a?"GET":a,r=t.url,c=t.cancelToken,o=void 0===c?null:c,s=t.auth,l=void 0===s?null:s,e.prev=1,e.next=4,k.a.request({method:n,url:r,cancelToken:o,auth:l});case 4:return i=e.sent,T("Successfully '".concat(n,"' from ").concat(r)),e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(1),T("error fetching ".concat(r),e.t0.response),e.t0.response?e.t0.response:new Error("There is error while fetching");case 13:case"end":return e.stop()}},e,null,[[1,9]])}))}),C=O.d.model("PetModel",{type:O.d.string,name:O.d.string}).views(function(e){return{get __avatar(){switch(e.type.toLowerCase()){case"cat":return"\ud83d\udc31";case"dog":return"\ud83d\udc36";case"fish":return"\ud83d\udc33";default:return"\ud83e\udd96Hmm..."}},get __owner(){var t=Object(O.b)(e,2);return{__avatar:t.__avatar,name:t.name,age:t.age,gender:t.gender}}}}).actions(function(e){return{afterCreate:function(){var t=e.type.toLowerCase();e.type=t.charAt(0).toUpperCase()+t.slice(1)}}}),P=O.d.model("OwnerModel",{name:O.d.string,gender:O.d.enumeration("Gender",["Male","Female"]),age:O.d.number,pets:O.d.maybeNull(O.d.array(C,[]))}).views(function(e){return{get __avatar(){var t="";switch(!0){case e.age<=12&&"Male"===e.gender:t="icon_avatar_boy.svg";break;case e.age<=12&&"Female"===e.gender:t="icon_avatar_girl.svg";break;case e.age>12&&e.age<=40&&"Male"===e.gender:t="icon_avatar_man.svg";break;case e.age>12&&e.age<=40&&"Female"===e.gender:t="icon_avatar_women.svg";break;case e.age>40&&"Male"===e.gender:t="icon_avatar_king.svg";break;case e.age>40&&"Female"===e.gender:t="icon_avatar_queen.svg";break;default:t="icon_avatar_anonymous.svg"}return"".concat("/static/images","/").concat(t)},__getPetsByType:function(t){return null===e.pets||0===e.pets.length?[]:void 0===t||null===t?e.pets:e.pets.filter(function(e){return e.type.toLowerCase()===t.toLowerCase()})}}}).actions(function(e){return{retrievePetTypeList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===e.pets)return Object(E.a)({},t);var a=Object(E.a)({},t);return e.pets.map(function(e){return a[e.type]=!0}),a}}}),M=O.d.model("Store",{owners:O.d.array(P,[]),petTypes:O.d.optional(O.d.frozen(),{}),state:O.d.enumeration("States",["initial","loading","completed","fetching","error"]),stateTarget:"",stateMessage:""}).views(function(e){return{get __ready(){return"initial"!==e.state&&"loading"!==e.state},get __genderList(){return[{label:"Male",value:"Male"},{label:"Female",value:"Female"}]},get __petTypeList(){return Object.keys(e.petTypes).reduce(function(e,t){return e.push({label:t,value:t}),e},[])},__getPetsBy:function(t){var a=null,n=null;return"undefined"!==typeof t&&(a="undefined"!==typeof t.ownerGender?t.ownerGender:null,n="undefined"!==typeof t.type?t.type:null),e.owners.reduce(function(e,t){if(null!==a&&t.gender===a||null===a){return e.concat(t.__getPetsByType(n))}return e},[]).sort(function(e,t){return e.name>t.name})},__getOwnersBy:function(t){return"undefined"===typeof t||"undefined"===typeof t.ownerGender?e.owners:e.owners.filter(function(e){return e.gender===t.ownerGender})}}}).actions(function(e){return Object(E.a)({},x,{fetchOwners:Object(O.a)(w.a.mark(function t(a){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.state="fetching",t.prev=1,t.next=4,e.fetch({url:"http://5c92dbfae7b1a00014078e61.mockapi.io/owners",cancelToken:a&&"undefined"!==typeof a.cancelToken?a.cancelToken:null});case 4:return t.sent.map(function(t){var a=P.create(t);return e.owners.push(a.toJSON()),e.petTypes=a.retrievePetTypeList(Object(O.c)(e).petTypes),null}),e.state="completed",t.abrupt("return",null);case 10:throw t.prev=10,t.t0=t.catch(1),e.state="error",e.stateTarget="page",e.stateMessage=t.t0.message||"Error while fetching records",t.t0;case 16:case"end":return t.stop()}},t,null,[[1,10]])}))})});a(58);var L=f(function(){var e=M.create({state:"initial"});return r.a.createElement("div",{className:"container pt-5 pb-3"},r.a.createElement("h1",{className:"mb-4"},"A pet shop (test)"),r.a.createElement("hr",null),r.a.createElement(_,{componentStore:e}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.c64b0d6a.chunk.js.map